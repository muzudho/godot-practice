# è¦ªè¨˜äº‹ã‹ã‚‰æ¥ãŸ

ğŸ“–ã€€[Godot ã£ã¦ä½•ã ãœï¼ˆï¼¾ï½ï¼¾ï¼‰ï¼Ÿ](https://crieit.net/posts/Godot-65115761b6a17)  

# Git Hub

ğŸ“–ã€€[src-game-controller](https://github.com/muzudho/godot-practice/tree/main/src-game-controller)  

# ã¯ã˜ã‚ã«

![202310__photo__27-2220--Gamepad.jpg](https://crieit.now.sh/upload_images/d713d338edceee98e75f4eccda2800e9653bb92629320.jpg)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€ã‚²ãƒ¼ãƒ ãƒ‘ãƒƒãƒ‰ãŒå±Šã„ãŸã®ã§ã€€Godotã€€ã¯ã‚²ãƒ¼ãƒ ãƒ‘ãƒƒãƒ‰ã‚’ä½¿ãˆã‚‹ã‹ã€€èª¿ã¹ã‚ˆã†ãœï¼Ÿã€  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
ã€Œã€€ã“ã†ã„ã†ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¯ã€€ã©ã†ã‚„ã£ã¦ä½¿ã†ã®ï¼Ÿã€  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨ã€€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¯çµå±€ã€€ãƒ”ãƒ³ãŒæŸã«ãªã£ãŸãƒã‚¹ã§ã€€ã¤ãªãŒã£ã¦ã‚‹ã ã‘ã§  
ãã“ã‚’é›»æ°—ä¿¡å·ãŒé€šã‚‹ã ã‘ã ãœã€‚  
ç¾ä»£ã ã¨ã€€USBè¦æ ¼ã€€ã‚’ä½¿ã†ã ã‚ã†ã‹ã‚‰ã€  
USBç«¯å­ã‚’ã€€USBãƒãƒ¼ãƒˆã«å·®ã—è¾¼ã‚ã°  
OS ã«ä½•ã‹åˆºã•ã£ãŸã€ã¨ã„ã†ã€€è‡ªå‹•èªè­˜ã¾ã§ã¯ã—ã¦ãã‚Œã‚‹ã‚“ã˜ã‚ƒãªã„ã‹ãªã€  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
ã€Œã€€ã‚„ã£ã¦ãã‚Œã ãœã€  

![202310__photo__27-2232--Gamepad-o2o0.jpg](https://crieit.now.sh/upload_images/c06c18cdbaa0040dc757352a36e64819653bbc515950e.jpg)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€ã˜ã‚ƒã‚ã€€USB ã‚±ãƒ¼ãƒ–ãƒ«ã‚’æŒ‡ã™ãœã€‚ç„¡ç·šã®ã‚‚ã‚ã‚‹ãªã€  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€USB ãƒ¡ãƒ¢ãƒªãƒ¼ã‚¿ã‚¤ãƒ—ã®ç«¯å­æŒ¿ã—ãŸã‚‰ã€€PCã‹ã‚‰éŸ³ãŒå‡ºã¦ã€€åå¿œã—ã¦ã€€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒè‡ªå‹•çš„ã«å§‹ã¾ã£ã¦  
ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒçµ‚ã‚ã£ãŸãœã€  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
ã€Œã€€é›»æ± ã¯ï¼Ÿã€  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ã‚±ãƒ¼ãƒ–ãƒ«æŒ¿ã—ã¦ï¼‘ã€ï¼’æ™‚é–“ã§ãƒãƒ£ãƒ¼ã‚¸ãŒçµ‚ã‚ã‚‹ãã†ã ãœã€‚é›»æ± ã¯å–ã‚Šå‡ºã›ãªã•ãã†ã€  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
ã€Œã€€ã˜ã‚ƒã‚ã€€ã‚±ãƒ¼ãƒ–ãƒ«æŒ¿ã›ã ãœã€  

## Godot ã®èª¬æ˜æ›¸èª­ã‚‚ã†ãœï¼Ÿ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘‡ã€€èª¬æ˜æ›¸èª­ã‚€ã‹ï½ã€  

ğŸ“–ã€€[Controllers, gamepads, and joysticks](https://docs.godotengine.org/en/stable/tutorials/inputs/controllers_gamepads_joysticks.html)  

```
E 0:00:00:0571   director.gd:24 @ _process(): The InputMap action "move_back" doesn't exist. Did you mean "ui_text_backspace"?
  <C++ ã‚¨ãƒ©ãƒ¼>      Condition "!InputMap::get_singleton()->has_action(p_action)" is true. Returning: 0.0
  <C++ ã‚½ãƒ¼ã‚¹>      core/input/input.cpp:346 @ get_action_raw_strength()
  <ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹>     director.gd:24 @ _process()
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€ã„ã‚„ã€€ã‚‚ã†ã€€ã‚¨ãƒ©ãƒ¼å‡ºãŸãŒã€  

![202310__godot__27-2316--InputMap.png](https://crieit.now.sh/upload_images/ff4a2920b1acef9476e36663df09bc5b653bc6549e0ed.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãƒãƒƒãƒ—ãŒç©ºãªã®ã¨ã€€ä½•ã‹é–¢ä¿‚ã‚ã‚‹ã‹ã ãœï¼Ÿã€  

![202310__godot__27-2316--InputMap-o2o0.png](https://crieit.now.sh/upload_images/2644461e23db9ed66971483e7c6e1225653bc6ee33603.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€ã‚ã£ã€ä½•ã‹å‡ºãŸï¼ã€  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
ã€Œã€€`ui_left` ã¨ã„ã†ã®ãŒä½¿ãˆã‚‹ã‚“ã˜ã‚ƒãªã„ã®ï¼Ÿã€  

```gd
func _process(_delta):
	
	var velocity = Input.get_vector(
			&"ui_left",		# å·¦ã®æ–¹
			&"ui_right",	# å³ã®æ–¹
			&"ui_up",		# ä¸Šã®æ–¹
			&"ui_down")		# ä¸‹ã®æ–¹

	$"GuiArtist/CanvasLayer/â†’å€¤".text = str(velocity.x)
	$"GuiArtist/CanvasLayer/â†“å€¤".text = str(velocity.y)
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€ã‚ˆã—ã€å–ã‚ŒãŸãœã€‚ `-1`ã€`0`ã€`1` ã®ã„ãšã‚Œã‹ã«ãªã‚‹æ„Ÿã˜ã ãœã€  

## Godot ã®èª¬æ˜æ›¸ã˜ã‚ƒåˆ†ã‹ã‚“ã­

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ãŸã„ã¦ã„ã€å…¬å¼ã®è¨˜äº‹ã‚’èª­ã‚ã€ã¨è¨€ã†ã¨ã“ã‚ãªã‚“ã ãŒã€ `Godot` ã¯é‡‘ã‚‚äººæ‰‹ã‚‚è¶³ã‚Šã¦ãªã„ã®ã‹ã€€ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚ã€€ãã¡ã‚ƒãã¡ã‚ƒãªã‚“ã§â€¦â€¦ã€  

ğŸ“–ã€€[Input examples](https://docs.godotengine.org/en/stable/tutorials/inputs/input_examples.html)  

```gd
func _input(event):
	print(event.as_text())
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€è‡ªåŠ›ã§è§£æã™ã‚‹ã‹ã€  

Output:  

```
Joypad Button 0 (Bottom Action, Sony Cross, Xbox A, Nintendo B)
Joypad Button 1 (Right Action, Sony Circle, Xbox B, Nintendo A)
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€ã“ã®å…¥åŠ›ã¯ã©ã†ã‚„ã£ã¦ã€€åˆ©ç”¨ã§ãã‚‹ã®ã‹ã€  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
ã€Œã€€ãã®æ–‡å­—åˆ—ã‚’åˆ©ç”¨ã™ã‚Œã°ã„ã„ã‚“ã˜ã‚ƒãªã„ï¼Ÿã€  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ã“ã®æ–‡å­—åˆ—ãŒä»•æ§˜ãªã®ã‹ã€€Godot ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸã‚‰ã€€ã‚ã£ã•ã‚Šå¤‰ã‚ã‚‹ã®ã‹åˆ†ã‹ã‚‰ã‚“ã€  

ğŸ“–ã€€[Input](https://godotforums.org/d/25136-getting-the-name-of-input-action-associated-to-input/10)  

```
func _input(event):
	for action in InputMap.get_actions():
		if InputMap.event_is_action(event, action):
			print("action: " + action)
```

Output:  

```
Joypad Button 0 (Bottom Action, Sony Cross, Xbox A, Nintendo B)
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€ç¢ºã‹ã«ã“ã®æ–‡å­—åˆ—ãŒå‡ºåŠ›ã•ã‚Œã‚‹ãŒâ€¦â€¦ã€  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ã˜ã‚ƒã‚ã€€ã“ã®é•·ã£ãŸã‚‰ã—ã„æ–‡å­—åˆ—ãŒã€€ãƒœã‚¿ãƒ³ã®ï¼©ï½„ã«ãªã£ã¦ã‚‹ã‚ã‘ã‹ã ãœã€å¤‰ãªã®ã€  

```
Joypad Button 0 (Bottom Action, Sony Cross, Xbox A, Nintendo B)
Joypad Button 0 (Bottom Action, Sony Cross, Xbox A, Nintendo B)
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ğŸ‘†ã€€ï¼‘ãƒœã‚¿ãƒ³ã¨ã€€é€£å°„ï¼‘ãƒœã‚¿ãƒ³ãŒã€€åŒã˜æ–‡å­—åˆ—ã€€è¿”ã£ã¦ãã‚‹ãœã€  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
ã€Œã€€é€£å°„ãƒœã‚¿ãƒ³ã ã‹ã‚‰ã˜ã‚ƒãªã„ã‹ï¼Ÿã€€æŠ¼ã—ã£ã±ãªã—ã«ã—ã¦ã¿ã‚ã ãœï¼Ÿã€  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ç¢ºã‹ã«ã€€ï¼‘ãƒœã‚¿ãƒ³ã¯ã€€æŠ¼ã—ã£ã±ãªã—ã«ã—ã¦ã‚‚åå¿œã—ãªã„ãŒã€  
é€£å°„ï¼‘ãƒœã‚¿ãƒ³ã¯ã€€æŠ¼ã—ã£ã±ãªã—ã«ã—ã¦ã‚‹ã¨ã€€ä½•åº¦ã‚‚åå¿œã™ã‚‹ãœã€ã„ã‚ã‚†ã‚‹ã‚­ãƒ¼ãƒ»ãƒªãƒ”ãƒ¼ãƒˆã€  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
ã€Œã€€é€£å°„ãƒœã‚¿ãƒ³ã ã‹ã‚‰ãªã€  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€å¬‰ã—ãã­ï½ã€  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
ã€Œã€€ã›ã£ã‹ãã€€ï¼”ã¤ã€€ãƒœã‚¿ãƒ³ãŒä»˜ã„ã¦ã‚‹ã®ã«ã€€ãã®ã†ã¡ã®åŠåˆ†ã¯ã€€ã‚­ãƒ¼ãƒªãƒ”ãƒ¼ãƒˆã™ã‚‹ã ã‘â€¦â€¦ã€  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
ã€Œã€€æ™‚ä»£ã‚ˆã€€æ™‚ä»£ï¼ã€€ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å…¨ç››æœŸï¼ã€  

.